# OpenInTerminal

åœ¨ macOS Finder å·¥å…·æ æ·»åŠ ä¸€ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»ååœ¨ **Terminal** ä¸­æ‰“å¼€å½“å‰ç›®å½•ï¼ˆä¼˜å…ˆä½¿ç”¨ Finder é€‰ä¸­é¡¹ï¼Œå…¶æ¬¡ä½¿ç”¨å½“å‰çª—å£ç›®å½•ï¼‰ã€‚

## è§£å†³ç—›ç‚¹

ä½œä¸ºå¼€å‘è€…ï¼Œä½ æ˜¯å¦ç»å¸¸é‡åˆ°ä»¥ä¸‹åœºæ™¯ï¼š

- ğŸ” **åœ¨ Finder ä¸­æµè§ˆé¡¹ç›®ç›®å½•**ï¼Œæƒ³è¦åœ¨ Terminal ä¸­æ‰“å¼€è¯¥ç›®å½•è¿›è¡Œæ“ä½œ
- ğŸ“‹ **æ‰‹åŠ¨å¤åˆ¶è·¯å¾„**ï¼Œåˆ‡æ¢åˆ° Terminalï¼Œè¾“å…¥ `cd` å‘½ä»¤ï¼Œç²˜è´´è·¯å¾„ï¼ˆè·¯å¾„å¯èƒ½å¾ˆé•¿ï¼Œå®¹æ˜“å‡ºé”™ï¼‰
- ğŸ”„ **é¢‘ç¹åˆ‡æ¢åº”ç”¨**ï¼šFinder â†’ Terminal â†’ è¾“å…¥è·¯å¾„ï¼Œæ“ä½œç¹ç
- ğŸ“ **å¤„ç†å¤šä¸ªç›®å½•**ï¼šéœ€è¦åœ¨ Terminal ä¸­æ‰“å¼€å¤šä¸ªä¸åŒçš„æ–‡ä»¶å¤¹ï¼Œæ¯æ¬¡éƒ½è¦é‡å¤ä¸Šè¿°æ­¥éª¤
- â±ï¸ **æµªè´¹æ—¶é—´**ï¼šç®€å•çš„ä¸€ä¸ªæ“ä½œéœ€è¦å¤šä¸ªæ­¥éª¤æ‰èƒ½å®Œæˆ

**OpenInTerminal** è§£å†³äº†è¿™äº›é—®é¢˜ï¼š
- âœ… **ä¸€é”®ç›´è¾¾**ï¼šåœ¨ Finder å·¥å…·æ ç‚¹å‡»æŒ‰é’®ï¼Œç«‹å³åœ¨ Terminal ä¸­æ‰“å¼€å½“å‰ç›®å½•
- âœ… **æ™ºèƒ½è¯†åˆ«**ï¼šè‡ªåŠ¨è¯†åˆ«é€‰ä¸­çš„æ–‡ä»¶å¤¹ã€æ–‡ä»¶æˆ–å½“å‰çª—å£ç›®å½•
- âœ… **æ‰¹é‡å¤„ç†**ï¼šæ”¯æŒå¤šé€‰ï¼Œè‡ªåŠ¨åœ¨å¤šä¸ª Terminal Tab ä¸­æ‰“å¼€ä¸åŒç›®å½•
- âœ… **é›¶é…ç½®**ï¼šå®‰è£…åæ‹–åˆ°å·¥å…·æ å³å¯ä½¿ç”¨ï¼Œæ— éœ€é¢å¤–è®¾ç½®

## æˆªå›¾

![OpenInTerminal ä½¿ç”¨ç¤ºä¾‹](screenshots/Screenshot_2025-12-31_16-40-05.png)

## åŠŸèƒ½

- Finder é€‰ä¸­**æ–‡ä»¶å¤¹**ï¼šåœ¨ Terminal æ‰“å¼€è¯¥æ–‡ä»¶å¤¹
- Finder é€‰ä¸­**æ–‡ä»¶**ï¼šåœ¨ Terminal æ‰“å¼€è¯¥æ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹
- Finder **å¤šé€‰**ï¼šä¼šåœ¨ Terminal ä¸­åˆ†åˆ«æ‰“å¼€å¤šä¸ª Tabï¼ˆå»é‡åï¼‰
- Finder æœªé€‰ä¸­ä»»ä½•é¡¹ï¼šåœ¨ Terminal æ‰“å¼€å½“å‰ Finder çª—å£ç›®å½•
- Finder æ²¡æœ‰çª—å£ï¼šå›é€€æ‰“å¼€ç”¨æˆ·ä¸»ç›®å½•

## æ„å»º

```bash
./build.sh
```

> äº§ç‰©é»˜è®¤åœ¨ `dist/OpenInTerminal.app`ã€‚

## å®‰è£…

```bash
sudo ./install.sh /Applications
```

> å®‰è£…åˆ° `/Applications`ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰ï¼š

## æ·»åŠ åˆ° Finder å·¥å…·æ 

1. æ‰“å¼€ Finder çª—å£
2. æ‰¾åˆ° `OpenInTerminal.app`ï¼ˆä¾‹å¦‚ `~/Applications/OpenInTerminal.app`ï¼‰
3. **æŒ‰ä½ âŒ˜ï¼ˆCommandï¼‰ä¸æ”¾**ï¼ŒæŠŠåº”ç”¨å›¾æ ‡æ‹–åˆ° Finder å·¥å…·æ ä½ å¸Œæœ›çš„ä½ç½®
4. æ¾å¼€é¼ æ ‡ï¼ŒæŒ‰é’®å³ä¼šå›ºå®šåˆ°å·¥å…·æ 

ç§»é™¤æŒ‰é’®ï¼šåŒæ ·æŒ‰ä½ âŒ˜ï¼ŒæŠŠæŒ‰é’®ä»å·¥å…·æ æ‹–å‡ºæ¥æ¾å¼€å³å¯ã€‚

## æƒé™æç¤ºï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰

è¯¥å·¥å…·éœ€è¦é€šè¿‡è‡ªåŠ¨åŒ–æ§åˆ¶ Finder/Terminal æ¥è¯»å–è·¯å¾„å¹¶æ‰§è¡Œ `cd`ï¼Œé¦–æ¬¡ç‚¹å‡»ä¼šå¼¹å‡ºæƒé™è¯·æ±‚ã€‚

å¦‚è¢«æ‹’ç»æˆ–æœªå¼¹çª—ï¼Œå¯åœ¨ï¼š

- ç³»ç»Ÿè®¾ç½® â†’ éšç§ä¸å®‰å…¨ â†’ è‡ªåŠ¨åŒ–ï¼ˆAutomationï¼‰

å…è®¸ `OpenInTerminal` æ§åˆ¶ï¼š

- Finder
  
> è¯´æ˜ï¼šå½“å‰æ‰“å¼€ Terminal ä½¿ç”¨çš„æ˜¯ `open -a Terminal <path>`ï¼Œä¸ä¾èµ– `tell application "Terminal"`ï¼›Finder çš„è‡ªåŠ¨åŒ–æƒé™ç”¨äºè¯»å–â€œå½“å‰çª—å£/é€‰ä¸­é¡¹è·¯å¾„â€ã€‚å¦‚æœç³»ç»Ÿå¼¹å‡ºâ€œæ§åˆ¶ç³»ç»Ÿäº‹ä»¶ï¼ˆSystem Eventsï¼‰â€ä¹Ÿéœ€è¦å…è®¸ã€‚

## å¸¸è§é—®é¢˜

### ç‚¹å‡»å·¥å…·æ æŒ‰é’®æ²¡ååº”

æŒ‰ä»¥ä¸‹é¡ºåºæ’æŸ¥ï¼š

1. **å…ˆç§»é™¤å†é‡æ–°æ·»åŠ æŒ‰é’®**ï¼šæŒ‰ä½ `âŒ˜` æŠŠå·¥å…·æ æŒ‰é’®æ‹–å‡ºç§»é™¤ï¼Œå†ä» `~/Applications/OpenInTerminal.app` é‡æ–°æ‹–å…¥ï¼ˆé¿å…å·¥å…·æ ç»‘å®šåˆ°æ—§çš„/å·²è¢«æ›¿æ¢çš„ appï¼‰ã€‚
2. **ç¡®è®¤ app ä½ç½®ç¨³å®š**ï¼šå»ºè®®æŠŠ app æ”¾åœ¨ `~/Applications` æˆ– `/Applications`ï¼Œä¸è¦ç›´æ¥ç”¨ `dist/` é‡Œçš„ä¸´æ—¶æ„å»ºäº§ç‰©ä½œä¸ºå·¥å…·æ æŒ‰é’®ã€‚
3. **æ£€æŸ¥è‡ªåŠ¨åŒ–æƒé™**ï¼šç³»ç»Ÿè®¾ç½® â†’ éšç§ä¸å®‰å…¨ â†’ è‡ªåŠ¨åŒ–ï¼Œå…è®¸ `OpenInTerminal` æ§åˆ¶ Finderã€‚
4. **é‡ç½®è‡ªåŠ¨åŒ–æƒé™ï¼ˆæ›¾ç»ç‚¹è¿‡â€œæ‹’ç»â€æ—¶ï¼‰**ï¼šæ‰§è¡Œ `tccutil reset AppleEvents com.vvicat.openinterminal`ï¼Œç„¶åé‡æ–°ç‚¹å‡»æŒ‰é’®è§¦å‘æˆæƒå¼¹çª—ã€‚

### å¼€å¯/æŸ¥çœ‹è°ƒè¯•æ—¥å¿—

é»˜è®¤ä¼šå†™å…¥æ—¥å¿—åˆ°ï¼š

- `/tmp/OpenInTerminal.log`

æ¸…ç©ºæ—¥å¿—ï¼š

```bash
rm -f /tmp/OpenInTerminal.log
```

ç‚¹ä¸€æ¬¡å·¥å…·æ æŒ‰é’®åæŸ¥çœ‹ï¼š

```bash
tail -n 200 /tmp/OpenInTerminal.log
```

## è‡ªå®šä¹‰

- å¦‚éœ€è‡ªå®šä¹‰å›¾æ ‡ï¼šæŠŠä½ çš„ `.icns` è¦†ç›–åˆ° `dist/OpenInTerminal.app/Contents/Resources/applet.icns`ï¼Œç„¶åæ‰§è¡Œ `touch dist/OpenInTerminal.app`ã€‚
- å¦‚éœ€æ”¹é»˜è®¤è¡Œä¸ºï¼ˆä¾‹å¦‚åªæ‰“å¼€ä¸€ä¸ª Tabï¼‰ï¼šä¿®æ”¹ `src/OpenInTerminal.applescript` åé‡æ–°æ‰§è¡Œ `./build.sh`ã€‚
